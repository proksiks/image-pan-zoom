# Инструкция по публикации npm пакета

## Подготовка к публикации

1. Убедитесь, что ваш пакет готов к публикации:
   - Все зависимости указаны правильно
   - Пакет протестирован
   - Документация (README) актуальна
   - Версия указана корректно в package.json

2. Убедитесь, что имя пакета уникально:
   - Проверьте доступность имени на [npmjs.com](https://www.npmjs.com/)
   - Имя должно быть в нижнем регистре, может содержать тире и подчеркивания

## Регистрация и авторизация

1. Зарегистрируйтесь на [npmjs.com](https://www.npmjs.com/) если у вас еще нет аккаунта

2. Авторизуйтесь в терминале:
   ```bash
   npm login
   ```
   Или создайте токен:
   ```bash
   npm adduser
   ```

## Сборка пакета

1. Соберите ваш пакет:
   ```bash
   npm run build
   ```

2. Проверьте, что все необходимые файлы находятся в корне проекта:
   - package.json
   - README.md
   - LICENSE (если применимо)
   - dist/ (папка с собранными файлами)

## Проверка пакета

1. Проверьте, как будет выглядеть ваш пакет:
   ```bash
   npm pack
   ```
   Эта команда создаст .tgz файл, который можно распаковать и проверить содержимое

2. Или используйте команду для предварительного просмотра:
   ```bash
   npm view .
   ```

## Публикация

1. Увеличьте номер версии (если это обновление):
   ```bash
   npm version patch  # для патч-версии (1.0.1 -> 1.0.2)
   npm version minor  # для минорной версии (1.0.2 -> 1.1.0)
   npm version major  # для мажорной версии (1.1.0 -> 2.0.0)
   ```

2. Опубликуйте пакет:
   ```bash
   npm publish
   ```

## Публикация приватного пакета

Если вы хотите опубликовать приватный пакет:
```bash
npm publish --access=restricted
```

## Обновление пакета

1. Внесите изменения в код
2. Обновите номер версии:
   ```bash
   npm version [patch|minor|major]
   ```
3. Соберите проект:
   ```bash
   npm run build
   ```
4. Опубликуйте новую версию:
   ```bash
   npm publish
   ```

## Возможные ошибки и решения

1. **Имя пакета занято**: выберите другое имя
2. **Ошибка аутентификации**: выполните `npm login` снова
3. **Пакет не публикуется**: проверьте, что в package.json указаны все необходимые поля
4. **Файлы не включены**: убедитесь, что в package.json есть поле `files` или `.npmignore` настроен правильно

## Дополнительные рекомендации

- Используйте семантическое версионирование (SemVer)
- Пишите понятные сообщения коммитов
- Поддерживайте актуальную документацию
- Регулярно обновляйте зависимости